/* ─────────────────────────────────────────────────────────────────────────────
   DayPanel — Apple-style right-hand appointment panel
───────────────────────────────────────────────────────────────────────────── */

/* ── Mini calendar ── */
.miniCal {
  padding: 0.75rem 0.85rem 0.6rem;
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 70%, transparent);
}

.miniCalHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 0.5rem;
}

.miniCalMonth {
  font-size: 0.78rem;
  font-weight: 620;
  color: var(--color-text);
  letter-spacing: -0.01em;
  text-transform: capitalize;
}

.miniCalNav {
  width: 22px;
  height: 22px;
  min-height: unset;
  border-radius: var(--radius-xs);
  background: transparent;
  border: 1px solid color-mix(in srgb, var(--color-border) 80%, transparent);
  color: var(--color-text-soft);
  font-size: 1rem;
  line-height: 1;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 120ms ease, color 120ms ease;
  padding: 0;
}
.miniCalNav:hover {
  background: color-mix(in srgb, var(--color-accent) 14%, transparent);
  color: var(--color-accent);
  border-color: color-mix(in srgb, var(--color-accent) 30%, transparent);
}

.miniCalGrid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 2px;
}

.miniCalWeekLabel {
  font-size: 0.6rem;
  font-weight: 650;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--color-text-soft);
  text-align: center;
  padding: 0.15rem 0;
}

.miniCalDay {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  aspect-ratio: 1;
  font-size: 0.72rem;
  font-weight: 500;
  color: var(--color-text);
  border-radius: var(--radius-xs);
  border: none;
  background: transparent;
  cursor: pointer;
  transition: background 120ms ease, color 120ms ease;
  min-height: unset;
  padding: 0;
  gap: 1px;
}
.miniCalDay:hover {
  background: color-mix(in srgb, var(--color-accent) 12%, transparent);
  color: var(--color-accent);
}

.miniCalDayOther {
  opacity: 0.35;
}

.miniCalDayToday {
  background: color-mix(in srgb, var(--color-accent) 20%, transparent);
  color: var(--color-accent);
  font-weight: 700;
}

.miniCalDaySelected {
  background: var(--color-accent) !important;
  color: var(--color-accent-contrast) !important;
  font-weight: 700;
}

.miniCalDot {
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background: currentColor;
  opacity: 0.65;
  display: block;
}

.panel {
  width: 300px;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  overflow: hidden;
  animation: slideIn 220ms cubic-bezier(0.16, 1, 0.3, 1);
  align-self: flex-start;
}

.controlSection {
  padding: 0.75rem 0.85rem;
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 70%, transparent);
  background: color-mix(in srgb, var(--color-surface-muted) 32%, var(--color-surface));
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.controlRow {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  flex-wrap: wrap;
}

.ctrlButton {
  width: 30px;
  height: 30px;
  min-height: unset;
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: var(--color-surface-muted);
  color: var(--color-text);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.92rem;
  font-weight: 700;
  line-height: 1;
  padding: 0;
}

.ctrlButton:hover {
  background: var(--color-surface-strong);
  border-color: var(--color-border-strong);
}

.rangeLabelButton {
  flex: 1;
  min-width: 120px;
  height: 30px;
  min-height: unset;
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: var(--color-surface-muted);
  color: var(--color-text);
  font-size: 0.76rem;
  font-weight: 620;
  padding: 0 0.6rem;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.rangeLabelButton:hover {
  background: color-mix(in srgb, var(--color-accent) 14%, var(--color-surface));
  border-color: color-mix(in srgb, var(--color-accent) 32%, var(--color-border));
}

.todayButton {
  height: 30px;
  min-height: unset;
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border);
  background: var(--color-surface-muted);
  color: var(--color-text);
  font-size: 0.76rem;
  font-weight: 600;
  padding: 0 0.62rem;
}

.todayButton:hover {
  background: var(--color-surface-strong);
  border-color: var(--color-border-strong);
}

.hiddenDateInput {
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
  border: none;
  padding: 0;
  margin: 0;
}

.searchWrapper {
  position: relative;
  display: flex;
  align-items: center;
  flex: 1;
  min-width: 160px;
}

.searchIcon {
  position: absolute;
  left: 0.52rem;
  font-size: 0.92rem;
  color: var(--color-text-soft);
  pointer-events: none;
}

.searchInput {
  width: 100%;
  height: 32px;
  min-height: unset;
  padding: 0.38rem 1.65rem 0.38rem 1.7rem;
  background: var(--color-surface-muted);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-text);
  font-size: 0.78rem;
}

.searchInput::placeholder {
  color: var(--color-text-soft);
}

.searchInput:focus {
  outline: none;
  border-color: color-mix(in srgb, var(--color-accent) 55%, var(--color-border));
  background: var(--color-surface);
}

.selectGroup {
  display: flex;
  gap: 0.35rem;
  flex: 1 1 100%;
  flex-wrap: wrap;
}

.selectControl {
  flex: 1;
  min-width: 106px;
  height: 32px;
  min-height: unset;
  padding: 0 0.56rem;
  background: var(--color-surface-muted);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-text);
  font-size: 0.76rem;
}

.selectControl:hover {
  background: var(--color-surface-strong);
  border-color: var(--color-border-strong);
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(14px); }
  to   { opacity: 1; transform: translateX(0); }
}

/* ── Header ── */
.header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 1.15rem 1.15rem 0.9rem;
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 70%, transparent);
}

.headerLeft {
  display: flex;
  flex-direction: column;
  gap: 0.18rem;
}

.headerEyebrow {
  margin: 0;
  font-size: 0.68rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  font-weight: 600;
  color: var(--color-text-soft);
}

.headerDate {
  margin: 0;
  font-size: 1.32rem;
  font-weight: 650;
  letter-spacing: -0.035em;
  color: var(--color-text);
  line-height: 1.1;
}

.addBtn {
  width: 30px;
  height: 30px;
  min-height: unset;
  border-radius: 50%;
  background: color-mix(in srgb, var(--color-accent) 20%, var(--color-surface));
  border: 1px solid color-mix(in srgb, var(--color-accent) 40%, var(--color-border));
  color: var(--color-accent);
  font-size: 1.35rem;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 140ms ease, transform 140ms ease, box-shadow 140ms ease;
  flex-shrink: 0;
  margin-top: 0.15rem;
}

.addBtn:hover {
  background: color-mix(in srgb, var(--color-accent) 32%, var(--color-surface));
  transform: scale(1.1);
  box-shadow: 0 4px 12px color-mix(in srgb, var(--color-accent) 30%, transparent);
}

/* ── Stats strip ── */
.statsStrip {
  display: flex;
  align-items: center;
  padding: 0.7rem 1.15rem;
  gap: 0;
  border-bottom: 1px solid color-mix(in srgb, var(--color-border) 70%, transparent);
  background: color-mix(in srgb, var(--color-surface-muted) 40%, transparent);
}

.statItem {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.1rem;
}

.statDivider {
  width: 1px;
  height: 28px;
  background: var(--color-border);
  flex-shrink: 0;
}

.statNum {
  font-size: 1.25rem;
  font-weight: 650;
  color: var(--color-text);
  letter-spacing: -0.04em;
  font-variant-numeric: tabular-nums;
  line-height: 1;
}

.statNumScheduled {
  color: var(--color-accent);
}

.statNumCompleted {
  color: var(--color-success);
}

.statNumOther {
  color: var(--color-danger);
}

.statLabel {
  font-size: 0.62rem;
  color: var(--color-text-soft);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 500;
}

/* ── Appointment list ── */
.list {
  flex: 1;
  overflow-y: auto;
  padding: 0.65rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  max-height: calc(100vh - 400px);
  min-height: 120px;
}

/* Custom scrollbar */
.list::-webkit-scrollbar { width: 4px; }
.list::-webkit-scrollbar-track { background: transparent; }
.list::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--color-border) 80%, transparent);
  border-radius: 4px;
}

/* ── Appointment card ── */
.card {
  display: flex;
  background: color-mix(in srgb, var(--color-surface-muted) 45%, var(--color-surface));
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
  cursor: pointer;
  transition: background 140ms ease, transform 140ms ease, box-shadow 140ms ease;
}

.card:hover {
  background: color-mix(in srgb, var(--color-surface-strong) 72%, transparent);
  transform: translateY(-2px);
  box-shadow: var(--shadow-sm);
}

.colorBar {
  width: 4px;
  flex-shrink: 0;
}

.cardBody {
  flex: 1;
  padding: 0.7rem 0.85rem;
  display: flex;
  flex-direction: column;
  gap: 0.28rem;
  min-width: 0;
}

.timeRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.3rem;
}

.time {
  font-size: 0.78rem;
  font-weight: 620;
  color: var(--color-text);
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.01em;
}

.duration {
  font-size: 0.68rem;
  color: var(--color-text-soft);
}

.clientName {
  margin: 0;
  font-size: 0.88rem;
  font-weight: 590;
  color: var(--color-text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  letter-spacing: -0.01em;
}

.metaRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.4rem;
}

.service {
  font-size: 0.72rem;
  color: var(--color-text-soft);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex: 1;
}

.statusPill {
  font-size: 0.6rem;
  font-weight: 650;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  padding: 0.16rem 0.48rem;
  border-radius: 20px;
  flex-shrink: 0;
  border: 1px solid transparent;
}

.statusPillScheduled {
  background: color-mix(in srgb, var(--color-accent) 22%, transparent);
  color: color-mix(in srgb, var(--color-accent) 70%, white);
  border-color: color-mix(in srgb, var(--color-accent) 40%, transparent);
}

.statusPillCompleted {
  background: color-mix(in srgb, var(--color-success) 22%, transparent);
  color: color-mix(in srgb, var(--color-success) 74%, white);
  border-color: color-mix(in srgb, var(--color-success) 40%, transparent);
}

.statusPillCancelled {
  background: color-mix(in srgb, var(--color-danger) 22%, transparent);
  color: color-mix(in srgb, var(--color-danger) 74%, white);
  border-color: color-mix(in srgb, var(--color-danger) 40%, transparent);
}

.statusPillNoShow {
  background: color-mix(in srgb, var(--color-text-soft) 22%, transparent);
  color: color-mix(in srgb, var(--color-text-soft) 80%, white);
  border-color: color-mix(in srgb, var(--color-text-soft) 40%, transparent);
}

/* ── Quick actions ── */
.quickActions {
  display: flex;
  gap: 0.35rem;
  margin-top: 0.2rem;
}

.qBtn {
  flex: 1;
  font-size: 0.68rem;
  font-weight: 620;
  padding: 0.28rem 0.4rem;
  border-radius: var(--radius-xs);
  cursor: pointer;
  transition: background 120ms ease, transform 120ms ease;
  border: 1px solid;
  min-height: unset;
}

.qComplete {
  background: color-mix(in srgb, var(--color-success) 16%, transparent);
  color: color-mix(in srgb, var(--color-success) 74%, white);
  border-color: color-mix(in srgb, var(--color-success) 34%, transparent);
}
.qComplete:hover {
  background: color-mix(in srgb, var(--color-success) 26%, transparent);
  transform: translateY(-1px);
}

.qAbsent {
  background: color-mix(in srgb, var(--color-text-soft) 16%, transparent);
  color: color-mix(in srgb, var(--color-text-soft) 82%, white);
  border-color: color-mix(in srgb, var(--color-text-soft) 34%, transparent);
}
.qAbsent:hover {
  background: color-mix(in srgb, var(--color-text-soft) 26%, transparent);
  transform: translateY(-1px);
}

/* ── Empty states ── */
.emptyPlaceholder {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.6rem;
  padding: 3rem 1.5rem;
  text-align: center;
  flex: 1;
}

.emptyEmoji { font-size: 2.4rem; opacity: 0.45; }

.emptyTitle {
  margin: 0;
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--color-text);
}

.emptySubtitle {
  margin: 0;
  font-size: 0.8rem;
  color: var(--color-text-soft);
  line-height: 1.55;
}

.emptyDay {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.7rem;
  padding: 2.5rem 1rem;
  text-align: center;
}

.emptyDayEmoji { font-size: 1.8rem; opacity: 0.4; }

.emptyDayText {
  font-size: 0.82rem;
  color: var(--color-text-soft);
  margin: 0;
}

.emptyDayBtn {
  font-size: 0.8rem;
  font-weight: 580;
  padding: 0.45rem 1.1rem;
  background: color-mix(in srgb, var(--color-accent) 16%, transparent);
  color: var(--color-accent);
  border: 1px solid color-mix(in srgb, var(--color-accent) 32%, transparent);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background 140ms ease, transform 140ms ease;
  min-height: unset;
}
.emptyDayBtn:hover {
  background: color-mix(in srgb, var(--color-accent) 26%, transparent);
  transform: translateY(-1px);
}

/* ── Search clear button ── */
.searchClear {
  position: absolute;
  right: 0.4rem;
  width: 20px;
  height: 20px;
  min-height: unset;
  border: none;
  background: transparent;
  color: var(--color-text-soft);
  font-size: 0.72rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: var(--radius-xs);
  padding: 0;
  line-height: 1;
  transition: background 120ms ease, color 120ms ease;
}
.searchClear:hover {
  background: color-mix(in srgb, var(--color-danger) 18%, transparent);
  color: var(--color-danger);
}

/* ── Search results badge (count pill next to header) ── */
.searchResultsBadge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 24px;
  height: 22px;
  padding: 0 0.5rem;
  background: color-mix(in srgb, var(--color-accent) 20%, transparent);
  color: var(--color-accent);
  border: 1px solid color-mix(in srgb, var(--color-accent) 36%, transparent);
  border-radius: 20px;
  font-size: 0.7rem;
  font-weight: 650;
  flex-shrink: 0;
  align-self: center;
  font-variant-numeric: tabular-nums;
}

/* ── Date-grouped result sections ── */
.resultGroup {
  display: flex;
  flex-direction: column;
  gap: 0.38rem;
}

.resultGroup + .resultGroup {
  margin-top: 0.2rem;
  padding-top: 0.65rem;
  border-top: 1px solid color-mix(in srgb, var(--color-border) 65%, transparent);
}

.resultGroupLabel {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.4rem;
  padding: 0 0.1rem;
  margin-bottom: 0.05rem;
}

.resultGroupDate {
  font-size: 0.66rem;
  font-weight: 660;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--color-text-soft);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.resultGroupCount {
  font-size: 0.64rem;
  font-weight: 650;
  padding: 0.1rem 0.42rem;
  background: color-mix(in srgb, var(--color-text-soft) 14%, transparent);
  color: var(--color-text-soft);
  border-radius: 20px;
  flex-shrink: 0;
}

/* ── Card wrapper (holds optional date label above card) ── */
.cardWrapper {
  display: flex;
  flex-direction: column;
  gap: 0.22rem;
}

.cardDateLabel {
  font-size: 0.66rem;
  font-weight: 650;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: var(--color-text-soft);
  padding: 0 0.1rem;
}

/* ── Category tag on appointment card ── */
.categoryTag {
  display: inline-flex;
  align-items: center;
  font-size: 0.61rem;
  font-weight: 640;
  padding: 0.1rem 0.44rem;
  border-radius: 20px;
  background: color-mix(in srgb, var(--cat-color, var(--color-accent)) 18%, transparent);
  color: color-mix(in srgb, var(--cat-color, var(--color-accent)) 90%, var(--color-text));
  border: 1px solid color-mix(in srgb, var(--cat-color, var(--color-accent)) 32%, transparent);
  align-self: flex-start;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.5;
  margin-top: 0.05rem;
}

/* ── Responsive ── */
@media (max-width: 1200px) {
  .panel { width: 268px; }
}

@media (max-width: 1024px) {
  .panel {
    width: 100%;
    align-self: auto;
    animation: none;
  }
  .list { max-height: 340px; }
}
